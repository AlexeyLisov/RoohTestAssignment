#  Тестовое для Rooh Co.

## Технологии

Приложение выполнено с использованием MVVM архитектуры. Подписки реализованы с помощью Combine. Cторонние библиотеки не использовались.

Общая логика двух приложений выделена в отдельные файлы. Это модели `AvatarModel` и `CharacterModel`, логика кодирования сообщений для пересылки через WatchConnectivity и сам сервис взаимодействия `WatchConnectivityService`.

`CharacterModel` кодируется в Data с помощью JsonEncoder/JsonDecoder и отправляется на часы. 

## UI
iOS версия приложения реализована на UIKit, 
Для аватаров используется CollectionView, с кастомным layout для масштабирования выделенного персонажа. Вся верстка выполнена кодом.

Ввод возраста, веса и роста реализован с помощью UITextField с .numberPad. Проверка всех значений производится с помощью Combine и отображаются  ошибки выхода за допустимый диапазон.

![alt text](<images/Error labels throwing error.gif>)

WatchOS версия использует SwiftUI, выбор персонажа реализован с помощью ScrollView со скроллом по тапу.
Ввод возраста, веса и роста реализован с помощью PickerView, так как дефолтная реализация TextField не поддерживает .numberPad. 


![WatchOS-avatar](<images/WatchOS - Avatar.png>)
![WatchOS-character](<images/WatchOS - Characteristics.png>)


Чтобы ослеживать статус отправки сообщения на часы добавлена View с отслеживанием статуса отправки сообщения. Поддерживается как отправка на часы так и обратно.

![alt text](<images/Sending message status.gif>)![alt text](<images/Both Sides.gif>)


## Сценарии
Для числовых данных заданы диапазоны и проверка значений, чтобы не было возможности отправить невалидное значение. 



## Список будущих улучшений:

- Добавить ввод числовых данных с помощью числовой экранной клавиатуры
- Unit тесты для `WatchConnectivityService` и другой бизнес логики приложения.
- Статус отправки на WatchOS версии

